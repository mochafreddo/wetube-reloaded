extends base

block content
  if errorMessage
    span= errorMessage

  img(src='/' + loggedInUser.avatarUrl, width='100', height='100')
  // If you don't enter an action, the browser will send a POST request to the 
  // same URL.
  // enctype: The encoding type required to send the file to the backend.
  form(method='POST', enctype='multipart/form-data')
    label(for='avatar') Avatar
    input#avatar(type='file', name='avatar', accept='image/*')
    input(
      placeholder='Name',
      name='name',
      type='text',
      required,
      value=loggedInUser.name
    )
    input(
      placeholder='Email',
      name='email',
      type='email',
      required,
      value=loggedInUser.email
    )
    input(
      placeholder='Username',
      name='username',
      type='text',
      required,
      value=loggedInUser.username
    )
    input(
      placeholder='Location',
      name='location',
      type='text',
      required,
      value=loggedInUser.location
    )
    // I excluded passwords because some users don't have them.
    input(type='submit', value='Update Profile')
    if !loggedInUser.socialOnly
      hr
      a(href='change-password') Change Password &rarr;
